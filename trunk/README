##
 # mythepisode README
 #
 # @url         $URL: https://mythepisode.googlecode.com/svn/trunk/README $
 # @date        $Date$
 # @version     $Revision$
 # @author      $Author$
 # @license     GPL
 #
##

NOTES: 
After an initial install when you first select TV Episodes mythepisode has to
go to tvrage.com and grab a list of shows for the first time so there might
be a slight delay.  The same is true when you click on a show for the first
time.  All episode information for that show has to be retrieved.  It will be
much faster the next time you select it.

I have tested mythepisode with the following browsers(although not thoroughly)
Firefox - very fast on my system
Safari  - very fast on my system
Chrome  - very fast on my system
IE      - very slow on my system

- Config settings can be changed in data/episode/config.ini

- I have added a file called override.txt which will reside in 
  data/episode/override.txt.  When you first install mythepisode if the file 
  doesn't exist in data/episode it will be copied from the utils directory and 
  placed in data/episode.  This file is used to overcome issues with shows that 
  have different recorded titles than those that come from tvrage.com.  You should
  also add shows that have country name displayed in mythepisode.

  A couple of examples that impact me

  recorded by mythtv as:          listed in mythepisode as:
  ----------------------          -------------------------
  Survivor: Nicaragua             Survivor
  2010 MTV Video Music Awards     MTV Video Music Awards
  Hawaii Five-0                   Hawaii Five-0 (2010)
  The Amazing Race 17             The Amazing Race

  To overcome this issue you can add them to override.txt using the following 
  format - recorded title:::tvrage title

  Survivor: Nicaragua:::Survivor
  62nd Primetime Emmy Awards:::The Emmy Awards
  2010 MTV Video Music Awards:::MTV Video Music Awards
  2010 World Series of Poker:::World Series of Poker
  Hawaii Five-0:::Hawaii Five-0 (2010)
  The Amazing Race 17:::The Amazing Race
  Dancing With the Stars:::Dancing With the Stars (US)
  Hell's Kitchen:::Hell's Kitchen (US)
  Big Brother:::Big Brother (US)

  Some shows like Survivor have a different name every year but need to be 
  listed under Survivor within mythepisode.  You can add these by putting --- 
  inbetween each one.

  Survivor: Nicaragua---Survivor: Pearl Island:::Survivor
  2010 World Series of Poker---2011 World Series of Poker:::World Series of Poker

################################################################################
I'm interested in feedback from anyone running trunk or the soon to be
release .24.  I don't plan on upgrading my system anytime soon.

If you are running mythweb trunk or greater you will need to make a couple of 
changes to episodes.php since trunk has changed some of the mythweb 
classes/includes.  I've only had feedback from others and haven't tested this 
with trunk.

- require_once 'classes/Schedule.php';
- require_once 'classes/Channel.php';
- require_once 'classes/Program.php';
- require_once 'includes/recording_schedules.php';

+ require_once 'includes/recording_schedules.php';
+ require_once 'classes/Channel.php';
+ require_once 'classes/Program.php';
+ require_once 'classes/Schedule.php';

- foreach ($Scheduled_Recordings as $callsign => $shows) {
+ foreach (Schedule::findScheduled() as $callsign => $shows) {
################################################################################

-------------------------
Installation Instructions
-------------------------

As installed on my system

Step 1:
-------
cd /usr/share/mythtv/mythweb/modules (path may be slightly different on your system,
                                      but you have to install mythepisode under
                                      mythweb/modules)
gunzip /tmp/episode.tar.gz
tar xvf /tmp/episode.tar

Step 2: 
-------
cd /usr/share/mythtv/mythweb/modules/_shared/tmpl/default
Add a line like the following to header.php  

NOTE: If you have installed mythepisode in the past you need to update the line below as it has changed.

EXISTING LINE: <a href="tv/recorded"><?php echo t('Recorded Programs') ?></a>
EXISTING LINE: &nbsp; | &nbsp;
NEW LINE: <a href="episode"><?php echo t('TV Episodes') ?></a>
NEW LINE: &nbsp; | &nbsp;
EXISTING LINE: <?php } ?>

Step 3:
-------
Create a directory where you want your show/episode information stored.  I use the
same directory path where my tv and video recordings are stored.  This will ensure
that if you update mythweb or mythepisode your data files will stay intact.

mkdir /var/lib/mythtv/episode  (This can be wherever you want)
chmod 777 /var/lib/mythtv/episode
cd /usr/share/mythtv/mythweb/data (The path to the mythweb/data dir may be different
                                   for your installation.)
ln -s /var/lib/mythtv/episode  episode

Step 4:
-------
This step is optional, but required if you want to use the tvwish funtion in 
mythepisode.  If you choose not to use this you can disable and hide all tvwish
functions by updating the tvwishhide option in data/episode/config.ini

download tvwish from http://www.templetons.com/brad/myt/tvwish.html and install it under /usr/share/mythtv/tvwish
Add a cronjob to roots crontab
00 12 * * * /usr/share/mythtv/mythweb/modules/episode/utils/runwish > /dev/null 2>&1

Step 5:
-------
cd /usr/share/mythtv/mythweb/modules/_shared/lang
./build_translation.pl

Step 6:
-------
cd /var/www/mythweb/data/episode
vi country.txt
Add a line for each country you wish to display shows for.
example:
US
CA
UK

This would display shows for all 3 countries after you perform an "Update Show
Listing".  If you decide not to create a country.txt file the display will 
default to "US" only show.

*Note:*
If your paths differ from mine above then you will have to make a few changes 
to paths in the cronjob and the scripts below.  I plan to fix this in the 
future.
- runwish
