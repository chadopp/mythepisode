##
 # mythepisode README
 #
 # @url         $URL$
 # @date        $Date$
 # @version     $Revision$
 # @author      $Author$
 # @license     GPL
 #
##

NOTE:  If you are running mythweb trunk you will need to make a couple of changes to
episodes.php since trunk has changed some of the mythweb classes/includes.  I've
only had feedback from others and haven't tested this with trunk.

- require_once 'classes/Schedule.php';
- require_once 'classes/Channel.php';
- require_once 'classes/Program.php';
- require_once 'includes/recording_schedules.php';

+ require_once 'includes/recording_schedules.php';
+ require_once 'classes/Channel.php';
+ require_once 'classes/Program.php';
+ require_once 'classes/Schedule.php';

- foreach ($Scheduled_Recordings as $callsign => $shows) {
+ foreach (Schedule::findScheduled() as $callsign => $shows) {

##################################################################################

As installed on my system

1.
cd /usr/share/mythtv/mythweb/modules
gunzip /tmp/episode.tar.gz
tar xvf /tmp/episode.tar

2. 
cd /usr/share/mythtv/mythweb/modules/_shared/tmpl/default
Add a line like the following to header.php  

NOTE: If you have installed mythepisode in the past you need to update the line below 
as it has changed.

EXISTING LINE: <a href="tv/recorded"><?php echo t('Recorded Programs') ?></a>
EXISTING LINE: &nbsp; | &nbsp;
NEW LINE: <a href="episode/show"><?php echo t('TV Episodes') ?></a>
NEW LINE: &nbsp; | &nbsp;
EXISTING LINE: <?php } ?>

3.
mkdir /var/lib/mythtv/episode
chmod 777 /var/lib/mythtv/episode
cd /var/lib/mythtv/episode
gunzip /tmp/data.tar.gz
tar xvf /tmp/data.tar
chown -R www-data:www-data /var/lib/mythtv/episode    (my web server runs as www-data)
cd /usr/share/mythtv/mythweb/data
ln -s /var/lib/mythtv/episode  episode

4.
download tvwish from http://www.templetons.com/brad/myt/tvwish.html and install it
under /usr/share/mythtv/tvwish
Add a cronjob to roots crontab
00 12 * * * /usr/share/mythtv/mythweb/modules/episode/utils/runwish > /dev/null 2>&1

5.
cd /usr/share/mythtv/mythweb/modules/_shared/lang
./build_translation.pl

*Note:*
If your paths differ from mine above then you will have to make a few changes to paths in 
the cronjob and the scripts below.  I plan to fix this in the future.
- runwish

*Note:* 
If it takes a long time to load the main page try setting $getrecorded to 0 in handler.php.  
If you do this I think the page will load faster but shows that you have recorded won't show 
up in green on the main page.

*Note:*  
When you do an "Update listing" either for the shows or episodes please be patient as it is 
going out to tvrage and updating the information.  Generally updating the "Show Listing" is 
fairly quick(less than 30 seconds).  The more episodes a show has the longer it takes to 
gather summary information.  A show like "General Hospital" that has 5000 episodes can take 
forever.  I don't recommend updating shows like this very often.  It can take up to an hour.  
If you have an account with tvrage I have a script that makes grabbing summaries much much faster.  
For instance, a show like "General Hospital" that takes up to an hour can be reduced to less than 
a minute.
